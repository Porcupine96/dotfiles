#!/bin/bash


declare -a options=(
  "Monorepo Merge Requests\0icon\x1f~/dotfiles/logos/gitlab.png"
  "Admin Test Account\0icon\x1f~/dotfiles/logos/zowie.png"
  "Zowier\0icon\x1f~/dotfiles/logos/zowie.png"
  "Jira Chatbotize DEVS\0icon\x1f~/dotfiles/logos/jira.png" 
  "Jira Chatbotize SUP\0icon\x1f~/dotfiles/logos/jira.png" 
  "Jira Chatbotize SH\0icon\x1f~/dotfiles/logos/jira.png" 
  "Weather\0icon\x1f~/dotfiles/logos/weather.png"
  "Home Assistant\0icon\x1f~/dotfiles/logos/home-assistant.png"
  "Status\0icon\x1f~/dotfiles/logos/zowie.png"
  "Meet\0icon\x1f~/dotfiles/logos/zowie.png"
  "Grafana\0icon\x1f~/dotfiles/logos/grafana.png"
  "Grafana EU1\0icon\x1f~/dotfiles/logos/grafana.png"
  "Grafana US1\0icon\x1f~/dotfiles/logos/grafana.png"
  "Jaeger\0icon\x1f~/dotfiles/logos/jaeger.png"
  "Kibana\0icon\x1f~/dotfiles/logos/kibana.png"
  "Kibana EU1\0icon\x1f~/dotfiles/logos/kibana.png"
  "Kibana US1\0icon\x1f~/dotfiles/logos/kibana.png"
  "Figma\0icon\x1f~/dotfiles/logos/figma.png"
  "TOTP (dev)\0icon\x1f~/dotfiles/logos/key.png"
  "Deflect Review\0icon\x1f~/dotfiles/logos/google-docs.png"
  "Pause/Resume ENV\0icon\x1f~/dotfiles/logos/gitlab.png"
  "Datadog\0icon\x1f~/dotfiles/logos/datadog.png"
)

function to_url() {
  case "$1" in
    "Monorepo Merge Requests")  echo "https://gitlab.vpn.zowie.ai/platform/monorepo/-/merge_requests?scope=all&state=opened&author_username=lukasz.kazmierczak" ;;
    "Admin Test Account")       echo "https://admin.vpn.zowie.ai/environments/aa23bb62336f43bf84710b834217564d" ;;
    "Jira Chatbotize DEVS")     echo "https://chatbotize.atlassian.net/jira/software/c/projects/DEVS/boards/21" ;;
    "Jira Chatbotize SH")       echo "https://chatbotize.atlassian.net/jira/software/projects/SH/boards/31" ;;
    "Jira Chatbotize SUP")      echo "https://chatbotize.atlassian.net/jira/servicedesk/projects/SUP/queues/custom" ;;
    "Weather")                  echo "https://m.meteo.pl/krakow/60" ;;
    "Home Assistant")           echo "http://192.168.1.29:8123/" ;;
    "Jaeger")                   echo "https://jaeger.vpn.zowie.ai" ;;
    "Kibana")                   echo "https://kibana.vpn.zowie.ai/app/discover" ;;
    "Kibana EU1")               echo "https://kibana-prod-eu1.vpn.zowie.ai/app/discover" ;;
    "Kibana US1")               echo "https://kibana-prod-us1.vpn.zowie.ai/app/discover" ;;
    "Grafana")                  echo "https://grafana.vpn.zowie.ai" ;;
    "Grafana EU1")              echo "https://grafana-prod-eu1.vpn.zowie.ai/d/zowiefull/full-monitoring?orgId=1" ;;
    "Grafana US1")              echo "https://grafana-prod-us1.vpn.zowie.ai/d/zowiefull/full-monitoring?orgId=1" ;;
    "Figma")                    echo "https://www.figma.com/file/I7yLNQqF4F63vh2PpYSZBc/Zowie-Redesign" ;;
    "Deflect Review")           echo "https://docs.google.com/document/d/1aglxUSNMlkbs8-wsGcRKqh0KykOuMKHGWFwMFl6F_rM/edit#heading=h.gsns1bkmjeqh" ;;
    "Pause/Resume ENV")         echo "https://gitlab.vpn.zowie.ai/infrastructure/cluster-conf/-/pipelines/new" ;;
    "Datadog")                  echo "https://app.datadoghq.eu/dashboard/lists" ;;

    "Zowier") zowier
	      exit 0 ;;

    "Status") brave "https://meet.google.com/ozj-ajia-dfw"
	      exit 0 ;;

    "Meet") brave "https://meet.google.com"
	      exit 0 ;;

    "TOTP (dev)") pass otp zowie | wl-copy
	      exit 0 ;;
  esac
}

choice=$(printf "%b\n" "${options[@]}" | rofi -i -dmenu)

if [[ -n "$choice" ]]; then
  url=$(to_url "$choice")

  bash -c "xdg-open '$url'; (true)" >> /dev/null 2>&1
fi
