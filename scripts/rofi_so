#!/bin/bash


declare -a options=(
  "Monorepo Pull Requests\0icon\x1f~/dotfiles/logos/github.png"
  "Chatbotize Jenkins\0icon\x1f~/dotfiles/logos/jenkins.png"
  "Admin Test Account\0icon\x1f~/dotfiles/logos/zowie.png"
  "Zowier\0icon\x1f~/dotfiles/logos/zowie.png"
  "Jira Chatbotize Dev\0icon\x1f~/dotfiles/logos/jira.png" 
  "Jira Chatbotize SUP\0icon\x1f~/dotfiles/logos/jira.png" 
  "Weather\0icon\x1f~/dotfiles/logos/weather.png"
  "Knowledge Base\0icon\x1f~/dotfiles/logos/knowledge.png"
  "Home Assistant\0icon\x1f~/dotfiles/logos/home-assistant.png"
  "Status\0icon\x1f~/dotfiles/logos/zowie.png"
)

function to_url() {
  case "$1" in
    "Monorepo Pull Requests")   echo "https://github.com/chatbotizeteam/monorepo/pulls" ;;
    "Chatbotize Jenkins")       echo "https://jenkins.codeheroes.tech/blue/organizations/jenkins/monorepo/activity" ;;
    "Admin Test Account")       echo "https://admin.vpn.zowie.ai/environments/aa23bb62336f43bf84710b834217564d" ;;
    "Jira Chatbotize Dev")      echo "https://chatbotize.atlassian.net/jira/software/projects/CD/boards/1" ;;
    "Jira Chatbotize SUP")      echo "https://chatbotize.atlassian.net/jira/servicedesk/projects/SUP/queues/custom" ;;
    "Weather")                  echo "https://m.meteo.pl/krakow/60" ;;
    "Knowledge Base")           echo "/home/porcupine/kb/index.html" ;;
    "Home Assistant")           echo "http://192.168.1.29:8123/" ;;
    # hack
    "Zowier") zowier
	      exit 0;;

    "Status") brave "https://meet.google.com/ozj-ajia-dfw"
	      exit 0;;
  esac
}

choice=$(printf "%b\n" "${options[@]}" | rofi -i -dmenu)

if [[ -n "$choice" ]]; then
  url=$(to_url "$choice")

  bash -c "xdg-open $url; (true)" >> /dev/null 2>&1
fi
