#!/bin/bash


declare -a options=(
  "Monorepo Pull Requests\0icon\x1f~/dotfiles/logos/github.png"
  "Chatbotize Jenkins\0icon\x1f~/dotfiles/logos/jenkins.png"
  "Admin Test Account\0icon\x1f~/dotfiles/logos/zowie.png"
  "Zowier\0icon\x1f~/dotfiles/logos/zowie.png"
  "Jira Chatbotize DEVS\0icon\x1f~/dotfiles/logos/jira.png" 
  "Jira Chatbotize SUP\0icon\x1f~/dotfiles/logos/jira.png" 
  "Weather\0icon\x1f~/dotfiles/logos/weather.png"
  "Home Assistant\0icon\x1f~/dotfiles/logos/home-assistant.png"
  "Status\0icon\x1f~/dotfiles/logos/zowie.png"
  "Meet\0icon\x1f~/dotfiles/logos/zowie.png"
  "Grafana\0icon\x1f~/dotfiles/logos/grafana.png"
  "Jaeger\0icon\x1f~/dotfiles/logos/jaeger.png"
  "Kibana\0icon\x1f~/dotfiles/logos/kibana.png"
  "Figma\0icon\x1f~/dotfiles/logos/figma.png"
  "TOTP (dev)\0icon\x1f~/dotfiles/logos/key.png"
)

function to_url() {
  case "$1" in
    "Monorepo Pull Requests")   echo "https://github.com/chatbotizeteam/monorepo/pulls" ;;
    "Chatbotize Jenkins")       echo "https://jenkins.codeheroes.tech/blue/organizations/jenkins/monorepo/activity" ;;
    "Admin Test Account")       echo "https://admin.vpn.zowie.ai/environments/aa23bb62336f43bf84710b834217564d" ;;
    "Jira Chatbotize DEVS")     echo "https://chatbotize.atlassian.net/jira/software/c/projects/DEVS/boards/21" ;;
    "Jira Chatbotize SUP")      echo "https://chatbotize.atlassian.net/jira/servicedesk/projects/SUP/queues/custom" ;;
    "Weather")                  echo "https://m.meteo.pl/krakow/60" ;;
    "Home Assistant")           echo "http://192.168.1.29:8123/" ;;
    "Jaeger")                   echo "https://jaeger.vpn.zowie.ai" ;;
    "Kibana")                   echo "https://kibana.vpn.zowie.ai" ;;
    "Grafana")                  echo "https://grafana.vpn.zowie.ai" ;;
    "Figma")                    echo "https://www.figma.com/file/I7yLNQqF4F63vh2PpYSZBc/Zowie-Redesign" ;;

    "Zowier") zowier
	      exit 0 ;;

    "Status") brave "https://meet.google.com/ozj-ajia-dfw"
	      exit 0 ;;

    "Meet") brave "https://meet.google.com"
	      exit 0 ;;

    "TOTP (dev)") pass otp zowie | xclip -selection clipboard
	      exit 0 ;;
  esac
}

choice=$(printf "%b\n" "${options[@]}" | rofi -i -dmenu)

if [[ -n "$choice" ]]; then
  url=$(to_url "$choice")

  bash -c "xdg-open $url; (true)" >> /dev/null 2>&1
fi
